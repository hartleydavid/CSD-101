<!DOCTYPE htm>
<!-- 
    David Hartley
    CSD 111  

-->
<html>
    <head>
        <meta charset="UTF-8" />
        <title>In-Class Final CSD 111</title>
            <script> 
                const PACKAGE_PRICE = 87.50;
                /* Checks if the user input is invalid
                 * Displays message if invalid, if not, don't display anything
                 * @param inputNum: The user input
                 * @return: INVALID if it's an invalid input, 
                 *          The value if the number is valid      
                 */
                 function checkNum(inputNum){
                    if(inputNum < 0 || isNaN(inputNum)){
                        window.alert("INVALID INPUT- Quantity will now be 0 \n PLEASE REFRESH PAGE");
                        return 0;
                    }
                    return inputNum;
                }

                //calcs the discount recieved from the quantity
                //returns discount
                function calcDiscount(quantity){
                    if(quantity >= 5 && quantity <=9) return 0.9;//10 percent off
                    if(quantity >= 10 && quantity <=19) return 0.85;//15 percent off
                    if(quantity >= 20 && quantity <=49) return 0.8;//20 percent off
                    if(quantity >= 50 && quantity <=99) return 0.7;//30 percent off
                    if(quantity >= 100) return 0.6;//40 percent off
                    return 1; //no discount
                }
            </script>
        </head>

    <body>
        <h2>Software Sales</h2>
        <script> 
            //Prompt user, parse the number and then check the input
            var quantity = checkNum(parseFloat(prompt("How many packages did you purchase?")));
            document.write("You ordered " + quantity + " package(s) for $87.50 each </br>");
            var discount = calcDiscount(quantity);//get discount
            var total = PACKAGE_PRICE * quantity;//get total
            //display info
            document.write("The discount you recieved is " + (100 -(discount*100)) + "% off </br>");
            document.write("The total amount before the dicount is $" + total.toFixed(2) + "</br>");
            document.write("The total after the discount will be $" + (total * discount).toFixed(2));
        </script>
    </body>
</html> 